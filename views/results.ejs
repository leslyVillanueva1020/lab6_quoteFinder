<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("partials/head.ejs") %>
</head>
<body>
    <header class="page-header">
        <h1>Famous Quotes</h1>
        <a class="back-link" href="/">‚Üê Back to search</a>
    </header>

    <main class="container">
        <% if (!rows || rows.length === 0) { %>
        <% if (typeof minLikes !== 'undefined' && typeof maxLikes !== 'undefined') { %>
            <p class="muted">No quotes found with likes between <%= minLikes %> and <%= maxLikes %>.</p>
        <% } else if (typeof keyword !== 'undefined') { %>
            <p class="muted">No quotes found for keyword: "<%= keyword %>".</p>
        <% } else if (typeof category !== 'undefined') { %>
            <p class="muted">No quotes found in category: "<%= category %>".</p>
        <% } else if (typeof authorName !== 'undefined') { %>
            <p class="muted">No quotes found for author: <%= authorName %>.</p>
        <% } else { %>
            <p class="muted">No quotes found.</p>
        <% } %>
        <% } %>

        <section class="quote-list">
        <% for (let row of rows) { %>
            <article class="quote-card">
            <blockquote>"<%= row.quote %>"</blockquote>
            <a class="author-link authors" href="#" authorId="<%= row.authorId %>">
                <%= row.firstName %> <%= row.lastName %>
            </a>
            </article>
        <% } %>
        </section>
    </main>

    <dialog id="authorModal">
        <div id="authorInfo">
        <h2 id="authorName"></h2>
        <img id="authorImage" alt="Author photo">
        <p id="dob"><strong>DOB:</strong> <span></span></p>
        <p id="dod"><strong>DOD:</strong> <span></span></p>
        <p id="sex"><strong>Sex:</strong> <span></span></p>
        <p id="profession"><strong>Profession:</strong> <span></span></p>
        <p id="country"><strong>Country:</strong> <span></span></p>
        <p id="bio"></p>
        <button id="closeModal" class="btn">Close</button>
        </div>
    </dialog>

    <%- include("partials/footer.ejs") %>

    <script src="/js/results.js"></script>
</body>
</html>